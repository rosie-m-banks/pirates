import os
import tkinter as tk
from PIL import Image, ImageTk

image_dir = "crops-07"  # change this
files = [f for f in os.listdir(image_dir) if f.lower().endswith((".png", ".jpg", ".jpeg"))]
files.sort()

root = tk.Tk()
root.title("Image Renamer")

index = 0

def show_image():
    global img_label, index
    if index >= len(files):
        print("Done!")
        root.destroy()
        return
    img_path = os.path.join(image_dir, files[index])
    img = Image.open(img_path)
    img.thumbnail((800, 600))
    tk_img = ImageTk.PhotoImage(img)
    img_label.config(image=tk_img)
    img_label.image = tk_img
    root.title(f"{files[index]} ({index+1}/{len(files)})")

def rename_image(event=None):
    global index
    new_name = entry.get().strip()
    if new_name:
        old_path = os.path.join(image_dir, files[index])
        new_path = os.path.join(image_dir, new_name + ".png")
        os.rename(old_path, new_path)
        index += 1
        entry.delete(0, tk.END)
        show_image()

img_label = tk.Label(root)
img_label.pack()

entry = tk.Entry(root, width=50)
entry.pack()
entry.bind("<Return>", rename_image)

show_image()
root.mainloop()
